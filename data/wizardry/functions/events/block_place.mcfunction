#Block tag removers
tag @a[scores={WizardryPlace=..0}] remove block-essence-absorber

#Block definers
tag @a[nbt={SelectedItem:{id:"minecraft:player_head",tag:{display:{Name:"[{\"text\":\"Essence Absorber\",\"color\":\"dark_purple\",\"italic\":false}]"},SkullOwner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}}}] add block-essence-absorber

tag @e[type=item,nbt={Item:{id:"minecraft:player_head",Count:1b,tag:{display:{Name:"[{\"text\":\"Essence Absorber\",\"color\":\"dark_purple\",\"italic\":false}]"}}}}] add dbp

#Filler
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~6 ~-5 ~5 ~6 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~5 ~-5 ~5 ~5 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~4 ~-5 ~5 ~4 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~3 ~-5 ~5 ~3 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~2 ~-5 ~5 ~2 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~1 ~-5 ~5 ~1 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~ ~-5 ~5 ~ ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-1 ~-5 ~5 ~-1 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-2 ~-5 ~5 ~-2 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-3 ~-5 ~5 ~-3 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-4 ~-5 ~5 ~-4 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-5 ~-5 ~5 ~-5 ~5 air replace player_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~6 ~-5 ~5 ~6 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~5 ~-5 ~5 ~5 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~4 ~-5 ~5 ~4 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~3 ~-5 ~5 ~3 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~2 ~-5 ~5 ~2 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~1 ~-5 ~5 ~1 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~ ~-5 ~5 ~ ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-1 ~-5 ~5 ~-1 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-2 ~-5 ~5 ~-2 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-3 ~-5 ~5 ~-3 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-4 ~-5 ~5 ~-4 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run fill ~-5 ~-5 ~-5 ~5 ~-5 ~5 air replace player_wall_head{Owner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}

#Block placer
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] at @e[tag=!dbp,distance=..6,limit=1,type=item,nbt={Item:{id:"minecraft:player_head",Count:1b,tag:{SkullOwner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}}}] run function wizardry:blocks/essence_absorber/place
execute at @e[tag=block-essence-absorber,scores={WizardryPlace=1..}] run kill @e[tag=!dbp,distance=..6,limit=1,type=item,nbt={Item:{id:"minecraft:player_head",Count:1b,tag:{SkullOwner:{Id:"5e6f5493-bf89-45bf-b761-755a98879f94",Properties:{textures:[{Value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNmI1Y2ViNWQzZDc1N2FiOTU5MjZmOGZhMjRjYTNmZjM4YzQxNmFjNGM1ODY2N2RlMzc5M2ZmYWFhYjI5In19fQ=="}]}}}}}]